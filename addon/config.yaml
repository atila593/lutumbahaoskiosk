name: "Firefox HAOS Kiosk"
version: "1.0.0" # Version initiale pour le nouveau slug
slug: "kiosk_firefox_final" # NOUVEAU SLUG pour éviter les problèmes de cache
description: "Firefox en mode Kiosk pour Home Assistant OS, avec auto-login et fonctionnalités REST API."
url: "https://github.com/atila593/lutumbahaoskiosk" # Votre lien Github
arch:
  - aarch64
  - amd64
  - armv7
build_from:
  amd64: ghcr.io/home-assistant/debian-addon-base:latest
  aarch64: ghcr.io/home-assistant/debian-addon-base:latest
  armv7: ghcr.io/home-assistant/debian-addon-base:latest
map:
  - config:rw
  - share:rw
  - media:rw
host_network: true
host_dbus: true
ports:
  8080/tcp: null # Port par défaut pour l'API REST
ports_description:
  8080/tcp: "REST API port for remote commands (exec_js, refresh)"
options:
  ha_username: ""
  ha_password: ""
  ha_url: "http://homeassistant.local:8123"
  ha_dashboard: ""
  login_delay: 1.0
  zoom_level: 100
  browser_refresh: 600
  screen_timeout: 0
  output_number: 1
  dark_mode: true
  ha_sidebar: false
  rotate_display: "normal"
  map_touch_inputs: false
  cursor_timeout: 5
  keyboard_layout: "fr"
  onscreen_keyboard: false
  save_onscreen_config: true
  xorg_conf: ""
  xorg_append_replace: "append"
  rest_port: 8080
  rest_authorization_token: ""
  allow_user_commands: false
  debug_mode: false
schema:
  ha_username: str
  ha_password: password
  ha_url: str
  ha_dashboard: str
  login_delay: float
  zoom_level: int
  browser_refresh: int
  screen_timeout: int
  output_number: int
  dark_mode: bool
  ha_sidebar: bool
  rotate_display: list(normal|left|right|inverted)
  map_touch_inputs: bool
  cursor_timeout: int
  keyboard_layout: str
  onscreen_keyboard: bool
  save_onscreen_config: bool
  xorg_conf: str
  xorg_append_replace: list(append|replace)
  rest_port: int
  rest_authorization_token: str
  allow_user_commands: bool
  debug_mode: bool
